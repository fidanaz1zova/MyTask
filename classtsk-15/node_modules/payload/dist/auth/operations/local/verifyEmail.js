"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _errors = require("../../../errors");
const _createLocalReq = require("../../../utilities/createLocalReq");
const _verifyEmail = /*#__PURE__*/ _interop_require_default(require("../verifyEmail"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
async function localVerifyEmail(payload, options) {
    const { collection: collectionSlug, token } = options;
    const collection = payload.collections[collectionSlug];
    if (!collection) {
        throw new _errors.APIError(`The collection with slug ${String(collectionSlug)} can't be found. Verify Email Operation.`);
    }
    const req = (0, _createLocalReq.createLocalReq)(options, payload);
    return (0, _verifyEmail.default)({
        collection,
        req,
        token
    });
}
const _default = localVerifyEmail;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hdXRoL29wZXJhdGlvbnMvbG9jYWwvdmVyaWZ5RW1haWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBHZW5lcmF0ZWRUeXBlcywgUmVxdWVzdENvbnRleHQgfSBmcm9tICcuLi8uLi8uLi8nXG5pbXBvcnQgdHlwZSB7IFBheWxvYWRSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vZXhwcmVzcy90eXBlcydcbmltcG9ydCB0eXBlIHsgUGF5bG9hZCB9IGZyb20gJy4uLy4uLy4uL3BheWxvYWQnXG5cbmltcG9ydCB7IEFQSUVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzJ1xuaW1wb3J0IHsgY3JlYXRlTG9jYWxSZXEgfSBmcm9tICcuLi8uLi8uLi91dGlsaXRpZXMvY3JlYXRlTG9jYWxSZXEnXG5pbXBvcnQgdmVyaWZ5RW1haWwgZnJvbSAnLi4vdmVyaWZ5RW1haWwnXG5cbmV4cG9ydCB0eXBlIE9wdGlvbnM8VCBleHRlbmRzIGtleW9mIEdlbmVyYXRlZFR5cGVzWydjb2xsZWN0aW9ucyddPiA9IHtcbiAgY29sbGVjdGlvbjogVFxuICBjb250ZXh0PzogUmVxdWVzdENvbnRleHRcbiAgcmVxPzogUGF5bG9hZFJlcXVlc3RcbiAgdG9rZW46IHN0cmluZ1xufVxuXG5hc3luYyBmdW5jdGlvbiBsb2NhbFZlcmlmeUVtYWlsPFQgZXh0ZW5kcyBrZXlvZiBHZW5lcmF0ZWRUeXBlc1snY29sbGVjdGlvbnMnXT4oXG4gIHBheWxvYWQ6IFBheWxvYWQsXG4gIG9wdGlvbnM6IE9wdGlvbnM8VD4sXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgeyBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uU2x1ZywgdG9rZW4gfSA9IG9wdGlvbnNcblxuICBjb25zdCBjb2xsZWN0aW9uID0gcGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uU2x1Z11cblxuICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICB0aHJvdyBuZXcgQVBJRXJyb3IoXG4gICAgICBgVGhlIGNvbGxlY3Rpb24gd2l0aCBzbHVnICR7U3RyaW5nKGNvbGxlY3Rpb25TbHVnKX0gY2FuJ3QgYmUgZm91bmQuIFZlcmlmeSBFbWFpbCBPcGVyYXRpb24uYCxcbiAgICApXG4gIH1cblxuICBjb25zdCByZXEgPSBjcmVhdGVMb2NhbFJlcShvcHRpb25zLCBwYXlsb2FkKVxuXG4gIHJldHVybiB2ZXJpZnlFbWFpbCh7XG4gICAgY29sbGVjdGlvbixcbiAgICByZXEsXG4gICAgdG9rZW4sXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IGxvY2FsVmVyaWZ5RW1haWxcbiJdLCJuYW1lcyI6WyJsb2NhbFZlcmlmeUVtYWlsIiwicGF5bG9hZCIsIm9wdGlvbnMiLCJjb2xsZWN0aW9uIiwiY29sbGVjdGlvblNsdWciLCJ0b2tlbiIsImNvbGxlY3Rpb25zIiwiQVBJRXJyb3IiLCJTdHJpbmciLCJyZXEiLCJjcmVhdGVMb2NhbFJlcSIsInZlcmlmeUVtYWlsIl0sIm1hcHBpbmdzIjoiOzs7OytCQXNDQTs7O2VBQUE7Ozt3QkFsQ3lCO2dDQUNNO29FQUNQOzs7Ozs7QUFTeEIsZUFBZUEsaUJBQ2JDLE9BQWdCLEVBQ2hCQyxPQUFtQjtJQUVuQixNQUFNLEVBQUVDLFlBQVlDLGNBQWMsRUFBRUMsS0FBSyxFQUFFLEdBQUdIO0lBRTlDLE1BQU1DLGFBQWFGLFFBQVFLLFdBQVcsQ0FBQ0YsZUFBZTtJQUV0RCxJQUFJLENBQUNELFlBQVk7UUFDZixNQUFNLElBQUlJLGdCQUFRLENBQ2hCLENBQUMseUJBQXlCLEVBQUVDLE9BQU9KLGdCQUFnQix3Q0FBd0MsQ0FBQztJQUVoRztJQUVBLE1BQU1LLE1BQU1DLElBQUFBLDhCQUFjLEVBQUNSLFNBQVNEO0lBRXBDLE9BQU9VLElBQUFBLG9CQUFXLEVBQUM7UUFDakJSO1FBQ0FNO1FBQ0FKO0lBQ0Y7QUFDRjtNQUVBLFdBQWVMIn0=